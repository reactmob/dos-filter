{"version":3,"sources":["../src/FilterItem.js"],"names":["FilterItem","nextProps","props","filter","fields","onFieldChange","name","e","target","value","map","label","onOperatorChange","onValueChange","Object","assign","operator","defaultOperator","type","defaultValue","options","createElement","onRemoveClick","removeLabel","doRenderRemoveFilter","doRenderFields","doRenderFilter","Component","propTypes","func","instanceOf","string"],"mappings":";;;;;;;;;AAAA;;;;AACA;;;;AACA;;AACA;;;;;;;;;;IAEaA,U,WAAAA,U;;;;;;;;;;;8CASaC,S,EAAW;AAAA,yBACF,KAAKC,KADH;AAAA,gBACrBC,MADqB,UACrBA,MADqB;AAAA,gBACbC,MADa,UACbA,MADa;;;AAG7B,mBAAO,CAAC,mBAAGH,UAAUE,MAAb,EAAqBA,MAArB,CAAD,IAAiC,CAAC,mBAAGF,UAAUG,MAAb,EAAqBA,MAArB,CAAzC;AACH;;;yCAEgB;AAAA,0BAC6B,KAAKF,KADlC;AAAA,gBACLE,MADK,WACLA,MADK;AAAA,gBACGC,aADH,WACGA,aADH;AAAA,gBACkBF,MADlB,WACkBA,MADlB;;;AAGb,mBACI;AAAA;AAAA,kBAAQ,OAAOA,OAAOG,IAAtB,EAA4B,UAAU,kBAACC,CAAD;AAAA,+BAAOF,cAAcE,EAAEC,MAAF,CAASC,KAAvB,CAAP;AAAA,qBAAtC;AACKL,uBAAOM,GAAP,CAAW,gBAAqB;AAAA,wBAAlBJ,IAAkB,QAAlBA,IAAkB;AAAA,wBAAZK,KAAY,QAAZA,KAAY;;AAC7B,2BAAO;AAAA;AAAA,0BAAQ,KAAKL,IAAb,EAAmB,OAAOA,IAA1B;AAAiCK;AAAjC,qBAAP;AACH,iBAFA;AADL,aADJ;AAOH;;;yCAEgB;AAAA,0BACuC,KAAKT,KAD5C;AAAA,gBACLC,MADK,WACLA,MADK;AAAA,gBACGS,gBADH,WACGA,gBADH;AAAA,gBACqBC,aADrB,WACqBA,aADrB;;AAEb,gBAAMX,QAAQY,OAAOC,MAAP,CAAc;AACxBC,0BAAUb,OAAOa,QAAP,GAAkBb,OAAOc,eAAP,IAA0Bd,OAAOe,IAAP,CAAYD,eAD1C;AAExBR,uBAAON,OAAOM,KAAP,GAAeN,OAAOgB,YAFL;AAGxBP,kDAHwB;AAIxBC;AAJwB,aAAd,EAKXV,OAAOiB,OALI,CAAd;;AAOA,mBAAO,gBAAMC,aAAN,CAAoBlB,OAAOe,IAA3B,EAAiChB,KAAjC,CAAP;AACH;;;6CAEoBoB,a,EAAeC,W,EAAa;AAC7C,mBAAO;AAAA;AAAA,kBAAQ,MAAK,QAAb,EAAsB,SAASD,aAA/B;AAA+CC;AAA/C,aAAP;AACH;;;iCAEQ;AAAA,0BACkC,KAAKrB,KADvC;AAAA,gBACGoB,aADH,WACGA,aADH;AAAA,gBACkBC,WADlB,WACkBA,WADlB;;;AAGL,mBACI;AAAA;AAAA,kBAAI,WAAU,kBAAd;AACI;AAAA;AAAA,sBAAK,WAAU,0BAAf;AACK,yBAAKC,oBAAL,CAA0BF,aAA1B,EAAyCC,WAAzC;AADL,iBADJ;AAII;AAAA;AAAA,sBAAK,WAAU,yBAAf;AACK,yBAAKE,cAAL;AADL,iBAJJ;AAOI;AAAA;AAAA,sBAAK,WAAU,0BAAf;AACK,yBAAKC,cAAL;AADL;AAPJ,aADJ;AAaH;;;;EA3D2B,gBAAMC,S;;AAAzB3B,U,CACF4B,S,GAAY;AACfN,mBAAe,oBAAUO,IADV;AAEfxB,mBAAe,oBAAUwB,IAFV;AAGfzB,YAAQ,oBAAU0B,UAAV,gBAHO;AAIf3B,YAAQ,oBAAU2B,UAAV,gBAJO;AAKfP,iBAAa,oBAAUQ;AALR,C","file":"FilterItem.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { is, Set } from 'immutable';\nimport { Filter } from './Filter';\n\nexport class FilterItem extends React.Component {\n    static propTypes = {\n        onRemoveClick: PropTypes.func,\n        onFieldChange: PropTypes.func,\n        fields: PropTypes.instanceOf(Set),\n        filter: PropTypes.instanceOf(Filter),\n        removeLabel: PropTypes.string,\n    };\n\n    shouldComponentUpdate(nextProps) {\n        const { filter, fields } = this.props;\n\n        return !is(nextProps.filter, filter) || !is(nextProps.fields, fields);\n    }\n\n    doRenderFields() {\n        const { fields, onFieldChange, filter } = this.props;\n\n        return (\n            <select value={filter.name} onChange={(e) => onFieldChange(e.target.value)}>\n                {fields.map(({ name, label }) => {\n                    return <option key={name} value={name}>{label}</option>\n                })}\n            </select>\n        )\n    }\n\n    doRenderFilter() {\n        const { filter, onOperatorChange, onValueChange } = this.props;\n        const props = Object.assign({\n            operator: filter.operator = filter.defaultOperator || filter.type.defaultOperator,\n            value: filter.value = filter.defaultValue,\n            onOperatorChange,\n            onValueChange\n        }, filter.options);\n\n        return React.createElement(filter.type, props);\n    }\n\n    doRenderRemoveFilter(onRemoveClick, removeLabel) {\n        return <button type=\"button\" onClick={onRemoveClick}>{removeLabel}</button>;\n    }\n\n    render() {\n        const { onRemoveClick, removeLabel } = this.props;\n\n        return (\n            <li className=\"dos-filter__item\">\n                <div className=\"dos-filter__item--remove\">\n                    {this.doRenderRemoveFilter(onRemoveClick, removeLabel)}\n                </div>\n                <div className=\"dos-filter__item--field\">\n                    {this.doRenderFields()}\n                </div>\n                <div className=\"dos-filter__item--filter\">\n                    {this.doRenderFilter()}\n                </div>\n            </li>\n        );\n    }\n}\n"]}